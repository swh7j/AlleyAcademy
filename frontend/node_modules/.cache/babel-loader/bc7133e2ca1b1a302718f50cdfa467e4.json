{"ast":null,"code":"import _classCallCheck from\"C:/project/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/project/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/project/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/project/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/project/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import BoardService from'../../service/BoardService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BoardList=/*#__PURE__*/function(_Component){_inherits(BoardList,_Component);var _super=_createSuper(BoardList);function BoardList(props){var _this;_classCallCheck(this,BoardList);_this=_super.call(this,props);_this.state={p_num:1,paging:{},lists:[]};_this.createBoard=_this.createBoard.bind(_assertThisInitialized(_this));return _this;}_createClass(BoardList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;BoardService.get_boardlist(this.state.p_num).then(function(res){_this2.setState({p_num:res.data.pagingData.currentPageNum,paging:res.data.pagingData,lists:res.data.list});});}},{key:\"listBoard\",value:function listBoard(p_num){var _this3=this;BoardService.get_boardlist(p_num).then(function(res){_this3.setState({p_num:res.data.pagingData.currentPageNum,paging:res.data.pagingData,lists:res.data.list});});}},{key:\"viewPaging\",value:function viewPaging(){var _this4=this;var pageNums=[];for(var i=this.state.paging.pageNumStart;i<=this.state.paging.pageNumEnd;i++){pageNums.push(i);}return pageNums.map(function(page){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",onClick:function onClick(){return _this4.listBoard(page);},children:page})},page.toString());});}},{key:\"isPagingPrev\",value:function isPagingPrev(){var _this5=this;if(this.state.paging.prev){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",onClick:function onClick(){return _this5.listBoard(_this5.state.paging.currentPageNum-1);},tabindex:\"-1\",children:\"\\uC774\\uC804\\uD398\\uC774\\uC9C0\"})});}}},{key:\"isPagingNext\",value:function isPagingNext(){var _this6=this;if(this.state.paging.next){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",onClick:function onClick(){return _this6.listBoard(_this6.state.paging.currentPageNum+1);},tabIndex:\"-1\",children:\"\\uB2E4\\uC74C\\uD398\\uC774\\uC9C0\"})});}}},{key:\"isMoveToFirstPage\",value:function isMoveToFirstPage(){var _this7=this;if(this.state.p_num!==1){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",onClick:function onClick(){return _this7.listBoard(1);},tabIndex:\"-1\",children:\"\\uCCAB\\uD398\\uC774\\uC9C0\"})});}}},{key:\"isMoveToLastPage\",value:function isMoveToLastPage(){var _this8=this;if(this.state.p_num!==this.state.paging.pageNumCountTotal){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"page-link\",onClick:function onClick(){return _this8.listBoard(_this8.state.paging.pageNumCountTotal);},tabIndex:\"-1\",children:[\"\\uB9C8\\uC9C0\\uB9C9\\uD398\\uC774\\uC9C0(\",this.state.paging.pageNumCountTotal,\")\"]})});}}},{key:\"createBoard\",value:function createBoard(){this.props.history.push('/Boardwrite/_create');window.location.reload();}},{key:\"readBoard\",value:function readBoard(no){this.props.history.push(\"/Readboard/\".concat(no));window.location.reload();}},{key:\"render\",value:function render(){var _this9=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"\\uAC8C\\uC2DC\\uD310\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-11\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary menu\",onClick:this.createBoard,children:\"\\uAE00 \\uC4F0\\uAE30\"})})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uAE00 \\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC81C\\uBAA9 \"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC77C \"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC870\\uD68C\\uC218\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.lists.map(function(list){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return _this9.readBoard(list.boardId);},children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",list.boardId,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",list.boardTitle,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",list.createTime,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",list.boardView,\" \"]})]},list);})})]}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination justify-content-center\",children:[this.isMoveToFirstPage(),this.isPagingPrev(),this.viewPaging(),this.isPagingNext(),this.isMoveToLastPage()]})})]});}}]);return BoardList;}(Component);export default BoardList;","map":{"version":3,"names":["React","Component","BoardService","BoardList","props","state","p_num","paging","lists","createBoard","bind","get_boardlist","then","res","setState","data","pagingData","currentPageNum","list","pageNums","i","pageNumStart","pageNumEnd","push","map","page","listBoard","toString","prev","next","pageNumCountTotal","history","window","location","reload","no","readBoard","boardId","boardTitle","createTime","boardView","isMoveToFirstPage","isPagingPrev","viewPaging","isPagingNext","isMoveToLastPage"],"sources":["C:/project/AlleyAcademy/frontend/src/components/board/BoardList.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport BoardService from '../../service/BoardService';\r\n\r\nclass BoardList extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            p_num: 1,\r\n            paging: {},\r\n            lists:[]\r\n        }\r\n        this.createBoard = this.createBoard.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        BoardService.get_boardlist(this.state.p_num).then((res) => {\r\n            this.setState({\r\n                p_num: res.data.pagingData.currentPageNum,\r\n                paging: res.data.pagingData,\r\n                lists: res.data.list\r\n            });\r\n        });\r\n    }\r\n    listBoard(p_num) {\r\n        BoardService.get_boardlist(p_num).then((res) => {\r\n            this.setState({\r\n                p_num: res.data.pagingData.currentPageNum,\r\n                paging: res.data.pagingData,\r\n                lists: res.data.list\r\n            });\r\n        });\r\n    }\r\n    viewPaging() {\r\n        const pageNums = [];\r\n\r\n        for (let i = this.state.paging.pageNumStart; i <= this.state.paging.pageNumEnd; i++ ) {\r\n            pageNums.push(i);\r\n        }\r\n\r\n        return (pageNums.map((page) =>\r\n        <li className=\"page-item\" key={page.toString()} >\r\n            <a className=\"page-link\" onClick = {() => this.listBoard(page)}>{page}</a>\r\n        </li>\r\n        ));\r\n    }\r\n    isPagingPrev(){\r\n        if (this.state.paging.prev) {\r\n            return (\r\n                <li className=\"page-item\">\r\n                    <a className=\"page-link\" onClick = {() => this.listBoard( (this.state.paging.currentPageNum - 1) )} tabindex=\"-1\">이전페이지</a>\r\n                </li>\r\n            );\r\n        }\r\n    }\r\n\r\n    isPagingNext(){\r\n        if (this.state.paging.next) {\r\n            return (\r\n                <li className=\"page-item\">\r\n                    <a className=\"page-link\" onClick = {() => this.listBoard( (this.state.paging.currentPageNum + 1) )} tabIndex=\"-1\">다음페이지</a>\r\n                </li>\r\n            );\r\n        }\r\n    }\r\n\r\n    isMoveToFirstPage() {\r\n        if (this.state.p_num !== 1) {\r\n            return (\r\n                <li className=\"page-item\">\r\n                    <a className=\"page-link\" onClick = {() => this.listBoard(1)} tabIndex=\"-1\">첫페이지</a>\r\n                </li>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    isMoveToLastPage() {\r\n        if (this.state.p_num !== this.state.paging.pageNumCountTotal) {\r\n            return (\r\n                <li className=\"page-item\">\r\n                    <a className=\"page-link\" onClick = {() => this.listBoard( (this.state.paging.pageNumCountTotal) )} tabIndex=\"-1\">마지막페이지({this.state.paging.pageNumCountTotal})</a>\r\n                </li>\r\n            );\r\n        }\r\n    }\r\n    createBoard() {\r\n        this.props.history.push('/Boardwrite/_create');\r\n        window.location.reload();\r\n    }\r\n    readBoard(no) {\r\n        this.props.history.push(`/Readboard/${no}`);\r\n        window.location.reload();\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2 className=\"text-center\">게시판</h2>\r\n                <div className = \"row\">\r\n                    <div className = \"col-md-11\">\r\n\r\n                    </div>\r\n                    <div className = \"col-md-1\">\r\n                          <button className=\"btn btn-primary menu\" onClick={this.createBoard}>글 쓰기</button>\r\n                    </div>\r\n                </div>\r\n                    <table className=\"table table-striped table-bordered\">\r\n                        <thead>\r\n                             <tr>\r\n                                <th>글 번호</th>\r\n                                <th>제목 </th>\r\n                                <th>작성일 </th>\r\n                                <th>조회수</th>\r\n                            </tr>\r\n                        </thead>\r\n                       <tbody>\r\n                           {\r\n                               this.state.lists.map(\r\n                                   (list) =>\r\n                                 <tr key = {list} onClick = {() => this.readBoard(list.boardId)}>\r\n                                    <td> {list.boardId} </td>\r\n                                    <td> {list.boardTitle} </td>\r\n                                     <td> {list.createTime} </td>\r\n                                    <td> {list.boardView} </td>\r\n                                </tr>\r\n                               )\r\n                           }\r\n                       </tbody>\r\n                   </table>\r\n                   <nav aria-label=\"Page navigation example\">\r\n                      <ul className=\"pagination justify-content-center\">\r\n                          {\r\n                              this.isMoveToFirstPage()\r\n                          }\r\n                          {\r\n                              this.isPagingPrev()\r\n                          }\r\n                          {\r\n                              this.viewPaging()\r\n                          }\r\n                          {\r\n                              this.isPagingNext()\r\n                          }\r\n                          {\r\n                              this.isMoveToLastPage()\r\n                          }\r\n                      </ul>\r\n                  </nav>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BoardList;"],"mappings":"8kBAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,aAAP,KAAyB,4BAAzB,C,2FAEMC,U,sGAGF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,CADE,CAETC,MAAM,CAAE,EAFC,CAGTC,KAAK,CAAC,EAHG,CAAb,CAKA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CAPe,aAQlB,C,uDAED,4BAAoB,iBAChBR,YAAY,CAACS,aAAb,CAA2B,KAAKN,KAAL,CAAWC,KAAtC,EAA6CM,IAA7C,CAAkD,SAACC,GAAD,CAAS,CACvD,MAAI,CAACC,QAAL,CAAc,CACVR,KAAK,CAAEO,GAAG,CAACE,IAAJ,CAASC,UAAT,CAAoBC,cADjB,CAEVV,MAAM,CAAEM,GAAG,CAACE,IAAJ,CAASC,UAFP,CAGVR,KAAK,CAAEK,GAAG,CAACE,IAAJ,CAASG,IAHN,CAAd,EAKH,CAND,EAOH,C,yBACD,mBAAUZ,KAAV,CAAiB,iBACbJ,YAAY,CAACS,aAAb,CAA2BL,KAA3B,EAAkCM,IAAlC,CAAuC,SAACC,GAAD,CAAS,CAC5C,MAAI,CAACC,QAAL,CAAc,CACVR,KAAK,CAAEO,GAAG,CAACE,IAAJ,CAASC,UAAT,CAAoBC,cADjB,CAEVV,MAAM,CAAEM,GAAG,CAACE,IAAJ,CAASC,UAFP,CAGVR,KAAK,CAAEK,GAAG,CAACE,IAAJ,CAASG,IAHN,CAAd,EAKH,CAND,EAOH,C,0BACD,qBAAa,iBACT,GAAMC,SAAQ,CAAG,EAAjB,CAEA,IAAK,GAAIC,EAAC,CAAG,KAAKf,KAAL,CAAWE,MAAX,CAAkBc,YAA/B,CAA6CD,CAAC,EAAI,KAAKf,KAAL,CAAWE,MAAX,CAAkBe,UAApE,CAAgFF,CAAC,EAAjF,CAAsF,CAClFD,QAAQ,CAACI,IAAT,CAAcH,CAAd,EACH,CAED,MAAQD,SAAQ,CAACK,GAAT,CAAa,SAACC,IAAD,qBACrB,WAAI,SAAS,CAAC,WAAd,uBACI,UAAG,SAAS,CAAC,WAAb,CAAyB,OAAO,CAAI,yBAAM,OAAI,CAACC,SAAL,CAAeD,IAAf,CAAN,EAApC,UAAiEA,IAAjE,EADJ,EAA+BA,IAAI,CAACE,QAAL,EAA/B,CADqB,EAAb,CAAR,CAKH,C,4BACD,uBAAc,iBACV,GAAI,KAAKtB,KAAL,CAAWE,MAAX,CAAkBqB,IAAtB,CAA4B,CACxB,mBACI,WAAI,SAAS,CAAC,WAAd,uBACI,UAAG,SAAS,CAAC,WAAb,CAAyB,OAAO,CAAI,yBAAM,OAAI,CAACF,SAAL,CAAiB,MAAI,CAACrB,KAAL,CAAWE,MAAX,CAAkBU,cAAlB,CAAmC,CAApD,CAAN,EAApC,CAAoG,QAAQ,CAAC,IAA7G,4CADJ,EADJ,CAKH,CACJ,C,4BAED,uBAAc,iBACV,GAAI,KAAKZ,KAAL,CAAWE,MAAX,CAAkBsB,IAAtB,CAA4B,CACxB,mBACI,WAAI,SAAS,CAAC,WAAd,uBACI,UAAG,SAAS,CAAC,WAAb,CAAyB,OAAO,CAAI,yBAAM,OAAI,CAACH,SAAL,CAAiB,MAAI,CAACrB,KAAL,CAAWE,MAAX,CAAkBU,cAAlB,CAAmC,CAApD,CAAN,EAApC,CAAoG,QAAQ,CAAC,IAA7G,4CADJ,EADJ,CAKH,CACJ,C,iCAED,4BAAoB,iBAChB,GAAI,KAAKZ,KAAL,CAAWC,KAAX,GAAqB,CAAzB,CAA4B,CACxB,mBACI,WAAI,SAAS,CAAC,WAAd,uBACI,UAAG,SAAS,CAAC,WAAb,CAAyB,OAAO,CAAI,yBAAM,OAAI,CAACoB,SAAL,CAAe,CAAf,CAAN,EAApC,CAA6D,QAAQ,CAAC,IAAtE,sCADJ,EADJ,CAKH,CACJ,C,gCAGD,2BAAmB,iBACf,GAAI,KAAKrB,KAAL,CAAWC,KAAX,GAAqB,KAAKD,KAAL,CAAWE,MAAX,CAAkBuB,iBAA3C,CAA8D,CAC1D,mBACI,WAAI,SAAS,CAAC,WAAd,uBACI,WAAG,SAAS,CAAC,WAAb,CAAyB,OAAO,CAAI,yBAAM,OAAI,CAACJ,SAAL,CAAiB,MAAI,CAACrB,KAAL,CAAWE,MAAX,CAAkBuB,iBAAnC,CAAN,EAApC,CAAmG,QAAQ,CAAC,IAA5G,mDAAyH,KAAKzB,KAAL,CAAWE,MAAX,CAAkBuB,iBAA3I,OADJ,EADJ,CAKH,CACJ,C,2BACD,sBAAc,CACV,KAAK1B,KAAL,CAAW2B,OAAX,CAAmBR,IAAnB,CAAwB,qBAAxB,EACAS,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,C,yBACD,mBAAUC,EAAV,CAAc,CACV,KAAK/B,KAAL,CAAW2B,OAAX,CAAmBR,IAAnB,sBAAsCY,EAAtC,GACAH,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,C,sBACD,iBAAS,iBACL,mBACI,oCACI,WAAI,SAAS,CAAC,aAAd,gCADJ,cAEI,aAAK,SAAS,CAAG,KAAjB,wBACI,YAAK,SAAS,CAAG,WAAjB,EADJ,cAII,YAAK,SAAS,CAAG,UAAjB,uBACM,eAAQ,SAAS,CAAC,sBAAlB,CAAyC,OAAO,CAAE,KAAKzB,WAAvD,iCADN,EAJJ,GAFJ,cAUQ,eAAO,SAAS,CAAC,oCAAjB,wBACI,oCACK,mCACG,2CADH,cAEG,qCAFH,cAGG,2CAHH,cAIG,0CAJH,GADL,EADJ,cASG,uBAEQ,KAAKJ,KAAL,CAAWG,KAAX,CAAiBgB,GAAjB,CACI,SAACN,IAAD,qBACF,YAAiB,OAAO,CAAI,yBAAM,OAAI,CAACkB,SAAL,CAAelB,IAAI,CAACmB,OAApB,CAAN,EAA5B,wBACG,0BAAMnB,IAAI,CAACmB,OAAX,OADH,cAEG,0BAAMnB,IAAI,CAACoB,UAAX,OAFH,cAGI,0BAAMpB,IAAI,CAACqB,UAAX,OAHJ,cAIG,0BAAMrB,IAAI,CAACsB,SAAX,OAJH,GAAWtB,IAAX,CADE,EADJ,CAFR,EATH,GAVR,cAiCO,YAAK,aAAW,yBAAhB,uBACG,YAAI,SAAS,CAAC,mCAAd,WAEQ,KAAKuB,iBAAL,EAFR,CAKQ,KAAKC,YAAL,EALR,CAQQ,KAAKC,UAAL,EARR,CAWQ,KAAKC,YAAL,EAXR,CAcQ,KAAKC,gBAAL,EAdR,GADH,EAjCP,GADJ,CAuDH,C,uBApJmB5C,S,EAuJxB,cAAeE,UAAf"},"metadata":{},"sourceType":"module"}