{"ast":null,"code":"import _classCallCheck from\"C:/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/AlleyAcademy/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import BoardService from'../../service/BoardService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Boardwrite=/*#__PURE__*/function(_Component){_inherits(Boardwrite,_Component);var _super=_createSuper(Boardwrite);function Boardwrite(props){var _this;_classCallCheck(this,Boardwrite);_this=_super.call(this,props);_this.changeTypeHandler=function(event){_this.setState({categoryNo:event.target.value});};_this.changeTitleHandler=function(event){_this.setState({boardTitle:event.target.value});};_this.changeContentsHandler=function(event){_this.setState({boardContents:event.target.value});};_this.changeMemberNoHandler=function(event){_this.setState({memberNo:event.target.value});};_this.createBoard=function(event){event.preventDefault();var board={categoryNo:_this.state.categoryNo,boardTitle:_this.state.boardTitle,boardContents:_this.state.boardContents,memberNo:_this.state.memberNo};console.log(\"게시글  => \"+JSON.stringify(board));if(_this.state.no==='_create'){BoardService.createBoard(board).then(function(res){_this.props.history.push('/Boardlist');window.location.reload();});}else{BoardService.updateBoard(_this.state.no,board).then(function(res){_this.props.history.push('/Boardlist');window.location.reload();});}};_this.state={no:_this.props.match.params.no,categoryNo:0,boardTitle:'',boardContents:'',memberNo:''};_this.changeTypeHandler=_this.changeTypeHandler.bind(_assertThisInitialized(_this));_this.changeTitleHandler=_this.changeTitleHandler.bind(_assertThisInitialized(_this));_this.changeContentsHandler=_this.changeContentsHandler.bind(_assertThisInitialized(_this));_this.changeMemberNoHandler=_this.changeMemberNoHandler.bind(_assertThisInitialized(_this));_this.createBoard=_this.createBoard.bind(_assertThisInitialized(_this));return _this;}_createClass(Boardwrite,[{key:\"cancel\",value:function cancel(){this.props.history.push('/Boardlist');window.location.reload();}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.state.no==='_create'){return;}else{BoardService.getOneBoard(this.state.no).then(function(res){var board=res.data;console.log(\"게시글  => \"+JSON.stringify(board));_this2.setState({categoryNo:board.categoryNo,boardTitle:board.boardTitle,boardContents:board.boardContents,memberNo:board.memberNo});});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"\\uAC8C\\uC2DC\\uD310 \\uAE00\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" \\uCE74\\uD14C\\uACE0\\uB9AC \"}),/*#__PURE__*/_jsxs(\"select\",{placeholder:\"categoryNo\",name:\"categoryNo\",className:\"form-control\",value:this.state.categoryNo,onChange:this.changeTypeHandler,children:[/*#__PURE__*/_jsx(\"option\",{selected:\"selected\",children:\"\\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\uACF5\\uC9C0\\uC0AC\\uD56D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"\\uC9C8\\uBB38\\uACFC \\uB2F5\\uBCC0\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"\\uC77C\\uBC18\\uAC8C\\uC2DC\\uD310\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" \\uC81C\\uBAA9 \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"boardTitle\",name:\"boardTitle\",className:\"form-control\",value:this.state.boardTitle,onChange:this.changeTitleHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" \\uB0B4\\uC6A9  \"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"boardContents\",name:\"boardContents\",className:\"form-control\",value:this.state.boardContents,onChange:this.changeContentsHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" \\uC544\\uC774\\uB514 (\\uCC28\\uD6C4\\uC5D0 \\uD68C\\uC6D0 \\uC2DC\\uC2A4\\uD15C \\uB300\\uBE44) \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"memberNo\",name:\"memberNo\",className:\"form-control\",value:this.state.memberNo,onChange:this.changeMemberNoHandler})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.createBoard,children:\"\\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.cancel.bind(this),class:\"btn btn-danger menu\",children:\"\\uCDE8\\uC18C\"})]})})]})})})});}}]);return Boardwrite;}(Component);export default Boardwrite;","map":{"version":3,"names":["React","Component","BoardService","Boardwrite","props","changeTypeHandler","event","setState","categoryNo","target","value","changeTitleHandler","boardTitle","changeContentsHandler","boardContents","changeMemberNoHandler","memberNo","createBoard","preventDefault","board","state","console","log","JSON","stringify","no","then","res","history","push","window","location","reload","updateBoard","match","params","bind","getOneBoard","data","cancel"],"sources":["C:/AlleyAcademy/frontend/src/components/board/Boardwrite.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport BoardService from '../../service/BoardService';\r\n\r\nclass Boardwrite extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            no: this.props.match.params.no,\r\n            categoryNo: 0,\r\n            boardTitle: '',\r\n            boardContents: '',\r\n            memberNo: ''\r\n        }\r\n        this.changeTypeHandler = this.changeTypeHandler.bind(this);\r\n        this.changeTitleHandler = this.changeTitleHandler.bind(this);\r\n        this.changeContentsHandler = this.changeContentsHandler.bind(this);\r\n        this.changeMemberNoHandler = this.changeMemberNoHandler.bind(this);\r\n        this.createBoard = this.createBoard.bind(this);\r\n    }\r\n\r\n    changeTypeHandler = (event) => {\r\n        this.setState({categoryNo: event.target.value});\r\n    }\r\n    changeTitleHandler = (event) => {\r\n        this.setState({boardTitle: event.target.value});\r\n    }\r\n    changeContentsHandler = (event) => {\r\n        this.setState({boardContents: event.target.value});\r\n    }\r\n    changeMemberNoHandler = (event) => {\r\n        this.setState({memberNo: event.target.value});\r\n    }\r\n\r\n    createBoard = (event) => {\r\n        event.preventDefault();\r\n        let board = {\r\n            categoryNo: this.state.categoryNo,\r\n            boardTitle: this.state.boardTitle,\r\n            boardContents: this.state.boardContents,\r\n            memberNo: this.state.memberNo\r\n        };\r\n\r\n        console.log(\"게시글  => \"+ JSON.stringify(board));\r\n\r\n        if (this.state.no === '_create') {\r\n            BoardService.createBoard(board).then(res => {\r\n                this.props.history.push('/Boardlist');\r\n                window.location.reload();\r\n            });\r\n        }\r\n        else {\r\n            BoardService.updateBoard(this.state.no, board).then(res => {\r\n                this.props.history.push('/Boardlist');\r\n                window.location.reload();\r\n            });\r\n        }\r\n    }\r\n\r\n    cancel() {\r\n        this.props.history.push('/Boardlist');\r\n        window.location.reload();\r\n    }\r\n    componentDidMount() {\r\n        if (this.state.no === '_create') {\r\n            return\r\n        } else {\r\n            BoardService.getOneBoard(this.state.no).then( (res) => {\r\n                let board = res.data;\r\n                console.log(\"게시글  => \"+ JSON.stringify(board));\r\n\r\n                this.setState({\r\n                        categoryNo: board.categoryNo,\r\n                        boardTitle: board.boardTitle,\r\n                        boardContents: board.boardContents,\r\n                        memberNo: board.memberNo\r\n                });\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className = \"container\">\r\n                    <div className = \"row\">\r\n                        <div className = \"card col-md-6 offset-md-3 offset-md-3\">\r\n                            <h3 className=\"text-center\">게시판 글쓰기</h3>\r\n                            <div className = \"card-body\">\r\n                                <form>\r\n                                    <div className = \"form-group\">\r\n                                        <label> 카테고리 </label>\r\n                                        <select placeholder=\"categoryNo\" name=\"categoryNo\" className=\"form-control\"\r\n                                        value={this.state.categoryNo} onChange={this.changeTypeHandler}>\r\n                                            <option selected=\"selected\">선택</option>\r\n                                            <option value=\"1\">공지사항</option>\r\n                                            <option value=\"2\">질문과 답변</option>\r\n                                            <option value=\"3\">일반게시판</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className = \"form-group\">\r\n                                        <label> 제목 </label>\r\n                                        <input type=\"text\" placeholder=\"boardTitle\" name=\"boardTitle\" className=\"form-control\"\r\n                                        value={this.state.boardTitle} onChange={this.changeTitleHandler}/>\r\n                                    </div>\r\n                                    <div className = \"form-group\">\r\n                                        <label> 내용  </label>\r\n                                        <textarea placeholder=\"boardContents\" name=\"boardContents\" className=\"form-control\"\r\n                                        value={this.state.boardContents} onChange={this.changeContentsHandler}/>\r\n                                    </div>\r\n                                    <div className = \"form-group\">\r\n                                        <label> 아이디 (차후에 회원 시스템 대비) </label>\r\n                                        <input placeholder=\"memberNo\" name=\"memberNo\" className=\"form-control\"\r\n                                        value={this.state.memberNo} onChange={this.changeMemberNoHandler}/>\r\n                                    </div>\r\n                                    <button className=\"btn btn-primary\" onClick={this.createBoard}>완료</button>\r\n                                    <button type=\"button\" onClick={this.cancel.bind(this)} class=\"btn btn-danger menu\">취소</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Boardwrite;"],"mappings":"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"},"metadata":{},"sourceType":"module"}